//
//  File.swift
//  
//
//  Created by Alexander Cyon on 2020-05-25.
//

import XCTest
@testable import HoMM3Engine


final class SimpleCombatTests: XCTestCase {
    
//    func testSimpleCombat() throws {
//        let solmyrðŸ”´ = Hero.solmyr(ownedBy: .red)
//        
//        let redArmyðŸ”´ = Army(
//            hero: solmyrðŸ”´,
//            creatureStacks: [
//                BlackDragon.stack(of: 3)
//            ]
//        )
//        
//        let serenaðŸ”µ = Hero.serena(ownedBy: .blue)
//        let blueArmyðŸ”µ = Army(
//            hero: serenaðŸ”µ,
//            creatureStacks: [
//                RedDragon.stack(of: 5)
//            ]
//        )
//
//        let battlefield = Battlefield(terrain: .grass)
//        
//        let combat = Combat(
//            battlefield: battlefield,
//            attackingArmy: redArmyðŸ”´,
//            defendingArmy: blueArmyðŸ”µ
//        )
// 
////        while !combat.isFinished {
////        let result = try combat.start { stackToAct in
////
//////            var actingCreatureStack = $0
//////            XCTAssertEqual(actingCreatureStack.creatureType, BlackDragon)
//////
//////            actingCreatureStack = try combat.stack(
//////                actingCreatureStack, performsAction: .move(to: .r9cD, attackOnTile: .rAcE)
//////            )
////
////        }
////        }
//        var result: Combat.Result!
//        repeat {
//            result = combat.progress { stackToAct, round in
//                
////                return .creatureStackAction(.move(to: .r9cD, attackOnTile: .rAcE))
//                return .creatureStackAction(.defend)
//            }
//        } while result == nil
//        
//        XCTAssertEqual(result.loserOutcome, .retreated)
//    }

}

